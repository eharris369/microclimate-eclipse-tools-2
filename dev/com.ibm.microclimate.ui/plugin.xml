<?xml version="1.0" encoding="UTF-8"?>

<!--
    IBM Confidential
    OCO Source Materials
    (C) Copyright IBM Corp. 2018 All Rights Reserved.
    The source code for this program is not published or otherwise
    divested of its trade secrets, irrespective of what has
    been deposited with the U.S. Copyright Office.
-->

<plugin>

   	<extension point="org.eclipse.ui.popupMenus">
		<objectContribution
			adaptable="true"
			objectClass="org.eclipse.core.resources.IProject"
			id="com.ibm.microclimate.ui.internal.wizards.LinkWizard_.id">
			<menu
				label="%CONTEXT_MENU_CATEGORY_NAME"
				path="additions"
				icon="%DEFAULT_ICON_PATH"
				id="com.ibm.microclimate.ui.internal.menu.category">
				<separator
					name="popupActions">
				</separator>
			</menu>
			<action
				label="%ACTION_LINK_TO_MICROCLIMATE"
				class="com.ibm.microclimate.ui.internal.wizards.LinkMicroclimateProjectDelegate"
				menubarPath="com.ibm.microclimate.ui.internal.menu.category/popupActions"
				icon="%DEFAULT_ICON_PATH"
				id="com.ibm.microclimate.ui.internal.wizards.LinkMicroclimateProjectDelegate.action.id">
			</action>
		</objectContribution>
	</extension>
	
   	<extension
         point="org.eclipse.ui.preferencePages">
         
         <page id="MicroclimateParentPage"
         	name="%PREFS_PARENT_PAGE_NAME"
         	class="com.ibm.microclimate.ui.internal.prefs.MicroclimatePrefsParentPage">
         </page>
         
         <page id="MicroclimateConnectionsPage"
         	name="%PREFS_CONNECTION_PAGE_NAME"
         	category="MicroclimateParentPage"
         	class="com.ibm.microclimate.ui.internal.prefs.MicroclimateConnectionPrefsPage">
         </page>    
   	</extension>
   
	<extension point="org.eclipse.debug.ui.launchConfigurationTypeImages">
		<launchConfigurationTypeImage
			id="com.ibm.microclimate.core.internal.launchConfigurationTypeImage"
			configTypeID="com.ibm.microclimate.core.internal.launchConfigurationType"
			icon="%DEFAULT_ICON_PATH"/>
	</extension>
	
	<extension point="org.eclipse.debug.ui.launchConfigurationTabGroups">
		<launchConfigurationTabGroup
			id="com.ibm.microclimate.ui.internal.launchConfigurationTabGroup"
			type="com.ibm.microclimate.core.internal.launchConfigurationType"
			class="com.ibm.microclimate.ui.internal.MicroclimateLaunchConfigTabGroup"/>
	</extension>
	
	   
	<extension point="org.eclipse.debug.ui.launchConfigurationTypeImages">
		<launchConfigurationTypeImage
			id="com.ibm.microclimate.core.internal.launchConfigTypeImage"
			configTypeID="com.ibm.microclimate.core.internal.launchConfigType"
			icon="%DEFAULT_ICON_PATH"/>
	</extension>
	
	<extension point="org.eclipse.debug.ui.launchConfigurationTabGroups">
		<launchConfigurationTabGroup
			id="com.ibm.microclimate.ui.internal.launchConfigTabGroup"
			type="com.ibm.microclimate.core.internal.launchConfigType"
			class="com.ibm.microclimate.ui.internal.MicroclimateLaunchConfigTabGroup"/>
	</extension>
	
  	<extension point="org.eclipse.core.expressions.propertyTesters">
    	<propertyTester
	      	id="com.ibm.microclimate.ui.internal.property.serverType"
	      	namespace="com.ibm.microclimate"
	      	properties="serverType"
	      	type="java.lang.Object"
	      	class="com.ibm.microclimate.ui.internal.MicroclimateServerPropertyTester"/>
  	</extension>
	
	<extension point="org.eclipse.ui.popupMenus">
		<objectContribution
			id="com.ibm.microclimate.ui.internal.popupMenu"
			objectClass="org.eclipse.wst.server.core.IServer">
		<visibility>
			<objectState name="serverType" value="%MICROCLIMATE_SERVER_ID"/>
		</visibility>
		<action
			id="com.ibm.microclimate.ui.internal.popupMenu.openApp"
			enablesFor="1"
			icon="%DEFAULT_ICON_PATH"
			label="%ACTION_OPEN_APP"
			class="com.ibm.microclimate.ui.internal.server.actions.OpenAppAction"/>
		<action
			id="com.ibm.microclimate.ui.internal.popupMenu.startBuild"
			enablesFor="1"
			icon="%DEFAULT_ICON_PATH"
			label="%ACTION_START_BUILD"
			class="com.ibm.microclimate.ui.internal.server.actions.StartBuildAction"/>
		</objectContribution>
	</extension>
	
	<extension point="org.eclipse.ui.decorators">
		<decorator
			id="com.ibm.microclimate.ui.internal.ServerDecorator"
			label="%SERVER_DECORATOR_LABEL"
			icon="%DEFAULT_ICON_PATH"
			lightweight="true"
			location="BOTTOM_RIGHT"
			state="true"
			class="com.ibm.microclimate.ui.internal.server.MicroclimateServerDecorator">
			<enablement>
				<or>
					<objectClass name="org.eclipse.wst.server.core.IServer"/>
				</or>
			</enablement>
		</decorator>
	</extension>
  	
	<extension point="org.eclipse.wst.server.ui.serverImages">
		<image
			id="com.ibm.microclimate.ui.internal.server.img"
			icon="%DEFAULT_ICON_PATH"
			typeIds="microclimate.server"/>
	</extension>
	
	<!--  Extensions for Microclimate Explorer View -->

	<extension point="org.eclipse.ui.views"> 
		<category
			id="com.ibm.microclimate.ui.views"
			name="%MICROCLIMATE_CATEGORY_NAME"/>
		<view
			id="com.ibm.microclimate.ui.explorerView"
			name="%MICROCLIMATE_VIEW_NAME"
			category="com.ibm.microclimate.ui.views"
			allowMultiple="false"
			icon="%DEFAULT_ICON_PATH"
			class="org.eclipse.ui.navigator.CommonNavigator"/>
	</extension>
	
	<extension point="org.eclipse.ui.navigator.viewer">
		<viewerContentBinding
			viewerId="com.ibm.microclimate.ui.explorerView">
			<includes>
				<contentExtension
					pattern="com.ibm.microclimate.ui.navigatorContent"/>
			</includes>
		</viewerContentBinding>
	</extension>
    
	<extension point="org.eclipse.ui.navigator.navigatorContent">
		<navigatorContent
			name="%NAVIGATOR_CONTENT_NAME"
			icon="%DEFAULT_ICON_PATH"
			activeByDefault="true"
			contentProvider="com.ibm.microclimate.ui.internal.views.MicroclimateNavigatorContentProvider"
			labelProvider="com.ibm.microclimate.ui.internal.views.MicroclimateNavigatorLabelProvider"  
			id="com.ibm.microclimate.ui.navigatorContent"> 
			<enablement>
				<or>
					<instanceof value="org.eclipse.core.resources.IWorkspaceRoot" />
				</or>
			</enablement>
		</navigatorContent>
	</extension>

	<extension point="org.eclipse.ui.popupMenus">
		<objectContribution
			id="com.ibm.microclimate.ui.appObjectActions"
			objectClass="com.ibm.microclimate.core.internal.MicroclimateApplication">
			<action
				id="com.ibm.microclimate.ui.openApplication"
				enablesFor="1"
				icon="%DEFAULT_ICON_PATH"
				label="%ACTION_OPEN_APP"
				class="com.ibm.microclimate.ui.internal.server.actions.OpenAppAction2"/>
			<action
				id="com.ibm.microclimate.ui.toggleConsoles"
				enablesFor="1"
				label="%ACTION_SHOW_CONSOLES"
				style="toggle"
				state="false"
				class="com.ibm.microclimate.ui.internal.server.actions.ToggleConsolesAction"/>
			<action
				id="com.ibm.microclimate.ui.enableDebug"
				enablesFor="1"
				label=""
				class="com.ibm.microclimate.ui.internal.server.actions.EnableDebugAction"/>
			<action
				id="com.ibm.microclimate.ui.buildApplication"
				enablesFor="1"
				label="%ACTION_START_BUILD"
				class="com.ibm.microclimate.ui.internal.server.actions.StartBuildAction2"/>
			<action
				id="com.ibm.microclimate.ui.refreshApplication"
				enablesFor="1"
				label="%ACTION_REFRESH"
				class="com.ibm.microclimate.ui.internal.server.actions.RefreshAction"/>
		</objectContribution>
		<objectContribution
			id="com.ibm.microclimate.ui.appObjectActions"
			objectClass="com.ibm.microclimate.core.internal.connection.MicroclimateConnection">
			<action
				id="com.ibm.microclimate.ui.refreshConnection"
				enablesFor="1"
				label="%ACTION_REFRESH"
				class="com.ibm.microclimate.ui.internal.server.actions.RefreshAction"/>
		</objectContribution>
	</extension>
	
	<extension point="org.eclipse.ui.viewActions">
		<viewContribution
			id="com.ibm.microclimate.ui.explorerViewActions"
			targetID="com.ibm.microclimate.ui.explorerView">
			<action
				id="com.ibm.microcliamte.ui.createConnectionAction"
				label="%NEW_CONNECTION_MENU_LABEL"
				icon="%DEFAULT_ICON_PATH"
				class="com.ibm.microclimate.ui.internal.actions.CreateConnectionAction">
			</action>
		</viewContribution>
	</extension>
	
	<extension point="org.eclipse.ui.newWizards">
		<category
			id = "com.ibm.microclimate.ui.new"
			 name="%MICROCLIMATE_CATEGORY_NAME">
		</category>
		<wizard
			id="com.ibm.microcliamte.ui.wizards.newConnection"
			name="%NEW_CONNECTION_MENU_LABEL"
			class="com.ibm.microclimate.ui.internal.wizards.NewMicroclimateConnectionWizard"
			category="com.ibm.microclimate.ui.new"
			icon="%DEFAULT_ICON_PATH">
			<description>%NEW_CONNECTION_DESCRIPTION</description>
			<selection class="org.eclipse.core.resources.IResource"/>
		</wizard>
	</extension>

</plugin>
