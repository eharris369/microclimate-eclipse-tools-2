<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

   	<extension point="org.eclipse.ui.popupMenus">
		<objectContribution
			adaptable="true"
			objectClass="org.eclipse.core.resources.IProject"
			id="com.ibm.microclimate.ui.wizards.LinkMicroclimateProjectWizard.id">
			<menu
				label="Microclimate"
				path="additions"
				id="com.ibm.microclimate.ui.menu.category">
				<separator
					name="popupActions">
				</separator>
			</menu>
			<action
				label="Link to Microclimate Project"
				class="com.ibm.microclimate.ui.wizards.LinkMicroclimateProjectDelegate"
				menubarPath="com.ibm.microclimate.ui.menu.category/popupActions"
				icon="icons/microclimate.ico"
				id="com.ibm.microclimate.ui.wizards.LinkMicroclimateProjectDelegate.action.id">
			</action>
		</objectContribution>
	</extension>
	
   	<extension
         point="org.eclipse.ui.preferencePages">
         
         <page id="MicroclimateParentPage"
         	name="Microclimate"
         	class="com.ibm.microclimate.ui.prefs.MicroclimatePrefsParentPage">
         </page>
         
         <page id="MicroclimateConnectionsPage"
         	name="Connections"
         	category="MicroclimateParentPage"
         	class="com.ibm.microclimate.ui.prefs.MicroclimateConnectionPrefsPage">
         </page>    
   	</extension>
   
	<extension point="org.eclipse.debug.ui.launchConfigurationTypeImages">
		<launchConfigurationTypeImage
			id="com.ibm.microclimate.ui.launchConfigurationTypeImage"
			configTypeID="com.ibm.microclimate.core.launchConfigurationType"
			icon="icons/microclimate.ico"/>
	</extension>
	
	<extension point="org.eclipse.debug.ui.launchConfigurationTabGroups">
		<launchConfigurationTabGroup
			id="com.ibm.microclimate.ui.launchConfigurationTabGroup"
			type="com.ibm.microclimate.core.launchConfigurationType"
			class="com.ibm.microclimate.ui.MicroclimateLaunchConfigTabGroup"/>
	</extension>
	
  	<extension point="org.eclipse.core.expressions.propertyTesters">
    	<propertyTester
	      	id="com.ibm.microclimate.ui.property.serverType"
	      	namespace="com.ibm.microclimate"
	      	properties="serverType"
	      	type="java.lang.Object"
	      	class="com.ibm.microclimate.ui.ServerPropertyTester"/>
  	</extension>
	
	<extension point="org.eclipse.ui.popupMenus">
		<objectContribution
			id="com.ibm.microclimate.ui.popupMenu"
			objectClass="org.eclipse.wst.server.core.IServer">
		<visibility>
			<objectState name="serverType" value="microclimate.server"/>
		</visibility>
		<action
			id="com.ibm.microclimate.ui.popupMenu.openApp"
			enablesFor="1"
			icon="icons/microclimate.ico"
			label="%ACTION_OPEN_APP"
			class="com.ibm.microclimate.ui.server.actions.OpenAppAction"/>
		</objectContribution>
	</extension>
	
	<extension point="org.eclipse.ui.decorators">
	    <decorator
	       id="com.ibm.microclimate.ui.ServerDecorator"
	       label="Microclimate Server"
	       icon="icons/microclimate.ico"
	       lightweight="true"
	       location="BOTTOM_RIGHT"
	       state="true"
	       class="com.ibm.microclimate.ui.server.MicroclimateServerDecorator">
	      <enablement>
	        <or>
	          <objectClass name="org.eclipse.wst.server.core.IServer"/>
	        </or>
	      </enablement>
	    </decorator>
  	</extension>
  	
	<extension point="org.eclipse.wst.server.ui.serverImages">
	    <image
	      id="com.ibm.microclimate.ui.server.img"
	      icon="icons/microclimate.ico"
	      typeIds="microclimate.server"/>
	</extension>
	
  	<extension point="org.eclipse.ui.navigator.navigatorContent">
		<navigatorContent
	       id="com.ibm.microclimate.ui.server.content"
	       name="Microclimate Server NavigatorContent"
	       icon="icons/microclimate.ico"
	       activeByDefault="true">
	       <triggerPoints>
	         <adapt type="org.eclipse.wst.server.core.IServer"> 
	           <test
	             forcePluginActivation="true"
	             property="org.eclipse.wst.server.ui.serverType"
	             value="microclimate.server"/>
	         </adapt>
	       </triggerPoints>
	       <actionProvider
	         dependsOn="org.eclipse.wst.server.ui.ServersView.ServerActionProvider"
	         class="com.ibm.microclimate.ui.server.actions.LogActionProvider">
	         <enablement>
	           <adapt type="com.ibm.microclimate.core.server.MicroclimateServer"/>
	         </enablement>
	       </actionProvider>
	    </navigatorContent>
  	</extension>

 	<!--extension
		point="org.eclipse.ui.newWizards">
     	<category
            name="Microclimate"
            id="com.ibm.microclimate.ui">
     	</category>		
		<wizard
       		icon="icons/microclimate.ico"
            id="com.ibm.microclimate.ui.wizards.NewMicroclimateConnectionWizard"
            name="Plugin XML Wizard Description">
            <class class="com.ibm.microclimate.ui.wizards.NewMicroclimateConnectionWizard"/>
          	<description>
            	New Microclimate Connection
         	</description>
         	<selection
            	class="org.eclipse.core.resources.IProject">
        	</selection>
      	</wizard>
   	</extension>
   
	<extension
		point="org.eclipse.ui.newWizards">
     	<category
            name="Microclimate"
            id="com.ibm.microclimate.ui">
     	</category>		
		<wizard
       		icon="icons/microclimate.ico"
            hasPages="true"
            id="com.ibm.microclimate.ui.wizards.NewMicroclimateConnectionWizard"
            name="Plugin XML Wizard Description">
            <class class="com.ibm.microclimate.ui.wizards.NewMicroclimateConnectionWizard"/>
          	<description>
            	New Microclimate Project
         	</description>
         	<selection
            	class="org.eclipse.core.resources.IProject">
        	</selection>
      	</wizard>
   </extension-->
</plugin>
